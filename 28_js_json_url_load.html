<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Document</title>

   <!-- Bootstrap3.x ver -->
   <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
   <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>


   <style>
      
      #box {
         width: 1000px;
         margin: auto;
         margin-top: 20px;
      }

      #title {
         text-align: center;
         font-size: 28px;
         color: rgb(248, 207, 4);
         text-shadow: 2px 2px 1px black;



      }
   </style>

   <script>

      //네트워트로부터 읽어온 목록을 저장한 변수

      let product_array = [];



      //초기화 이벤트 : html 내에 모든 컨트롤이 생성 배치완료되면
      window.onload = function () {

         fetch('http://makeup-api.herokuapp.com/api/v1/products.json?brand=maybelline')
            .then((response) => response.json())
            .then((json) => product_array = json);


      };

      //product_array =[{''}]


      console.log(product_array.length);


      document.getElementById("result").innerHTML = "읽어온 내용...";

      function fn_result() {
         let html = `
               <table class=" table table-hover table-striped">
                  <tr class="success">
                     <th width=30%> </th>
                     <th width=20%> 상품명</th>
                     <th width=30%>가격</th>
                     <th width=30%> 상품설명</th>
                     <th width=20%> 별점<img width=15px height=17px src="https://cdn.pixabay.com/photo/2012/04/15/21/02/champagne-35313_640.png"></th>
                  </tr>
  
      `

      


         // for ->상품목록 채우기
         for (let i = 0; i < product_array.length; i++) {
            const product = product_array[i];
            html+= `
            <tr>
               <td><img src="${product.image_link}"></td>
               <td>${product.name}</td>
               <td>${product.price}</td>
               <td>${product.description}</td>
               <td>${product.rating}       ⭐⭐⭐⭐⭐<span class="stars">
                <BR></td></span>
       
               
               
               
            </tr>
            
            
            `;
         }

         html = html + `</table>`;

         //결과출력
         document.getElementById("result").innerHTML = html;



      }


   </script>

</head>

<body>




   <div id="box">

      <h1 id="title">::: MAYBELLINE :::</h1>
      <button onclick="fn_result()"> 푸쉬더버튼 </button>
      <div id="result"></div>
      <div class="star-rating">
         <div class="stars">
            <span style="width:90%;"></span>
</div>
   </div>
</body>

</html>